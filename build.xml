<?xml version="1.0" encoding="UTF-8"?>
<project name="TKTI-Sample-Project" default="build" basedir=".">

    <!-- ============================= -->
    <!--         GLOBAL PATHS          -->
    <!-- ============================= -->
    <property name="src.dir" value="src"/>
    <property name="build.dir" value="build"/>
    <property name="classes.dir" value="${build.dir}/classes"/>

    <!-- ============================= -->
    <!--       TARGET: CLEAN           -->
    <!-- ============================= -->
    <target name="clean">
        <echo>ğŸ”„ Cleaning output directories...</echo>
        <delete dir="${build.dir}" />
    </target>

    <!-- ============================= -->
    <!--      TARGET: PREPARE          -->
    <!-- ============================= -->
    <target name="prepare" depends="clean">
        <echo>ğŸ“ Creating build folders...</echo>
        <mkdir dir="${classes.dir}" />
    </target>

    <!-- ============================= -->
    <!--     TARGET: COMPILE CODE      -->
    <!-- ============================= -->
    <target name="compile" depends="prepare">
        <echo>âš™ï¸ Compiling Java source files (if any)...</echo>
        <javac srcdir="${src.dir}" destdir="${classes.dir}" includeantruntime="false" failonerror="false"/>
    </target>

    <!-- ============================= -->
    <!--  TARGET: RUN UNIT TESTS       -->
    <!-- ============================= -->
    <target name="test" depends="compile">
        <echo>ğŸ§ª Running tests... (placeholder)</echo>
    </target>

    <!-- ============================= -->
    <!--  TARGET: DELIBERATE FAILURE   -->
    <!-- ============================= -->
    <target name="fail-target">
        <echo>ğŸ”¥ Triggering intentional failure for testing...</echo>
        <fail message="This is a controlled failure for TKTI ML pipeline."/>
    </target>

    <!-- ============================= -->
    <!--      TARGET: BUILD JAR        -->
    <!-- ============================= -->
    <target name="build" depends="test">
        <echo>ğŸ“¦ Packaging build artifact (placeholder)...</echo>
        <mkdir dir="${build.dir}/dist"/>
        <echo message="Fake JAR build completed." file="${build.dir}/dist/app.txt"/>
    </target>

</project>
